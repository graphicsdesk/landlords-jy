{"version":3,"sources":["scripts/scrollyscript.js"],"names":["allMajors","d3","selectAll","topThree","minorPaint","minorUnsan","minorPlumb","reset","classed","top_three","unsanitary","paint","plumbing","select","on","e","scroller","scrollama","setup","step","offset","debug","onStepEnter","element","direction","index","event","CustomEvent","detail","dispatchEvent","onStepExit","window","addEventListener","resize"],"mappings":";AAAA,IAAMA,EAAaC,GAAGC,UAAU,uBAC1BC,EAAaF,GAAGC,UAAU,gBAC1BE,EAAaH,GAAGC,UAAU,kBAC1BG,EAAaJ,GAAGC,UAAU,uBAC1BI,EAAaL,GAAGC,UAAU,qBAGhC,SAASK,IACLP,EAAUQ,QAAQ,UAAU,GAAOA,QAAQ,YAAY,GACvDL,EAASK,QAAQ,UAAU,GAC3BJ,EAAWI,QAAQ,UAAU,GAAMA,QAAQ,mBAAmB,GAC9DH,EAAWG,QAAQ,UAAU,GAAMA,QAAQ,wBAAwB,GACnEF,EAAWE,QAAQ,UAAU,GAAMA,QAAQ,sBAAsB,GAEjEP,GAAGC,UAAU,WAAWM,QAAQ,eAAe,GAAMA,QAAQ,iBAAiB,GAIlF,SAASC,IACLN,EAASK,QAAQ,UAAU,GAC3BR,EAAUQ,QAAQ,YAAY,GAC9BJ,EAAWI,QAAQ,UAAU,GAC7BH,EAAWG,QAAQ,UAAU,GAC7BF,EAAWE,QAAQ,UAAU,GAGjC,SAASE,IACLP,EAASK,QAAQ,UAAU,GAC3BR,EAAUQ,QAAQ,UAAU,GAC5BH,EAAWG,QAAQ,UAAU,GAAOA,QAAQ,wBAAwB,GAEpEJ,EAAWI,QAAQ,UAAU,GAAMA,QAAQ,mBAAmB,GAC9DF,EAAWE,QAAQ,UAAU,GAAMA,QAAQ,sBAAsB,GAGrE,SAASG,IACLR,EAASK,QAAQ,UAAU,GAC3BR,EAAUQ,QAAQ,UAAU,GAC5BH,EAAWG,QAAQ,UAAU,GAAOA,QAAQ,wBAAwB,GACpEJ,EAAWI,QAAQ,UAAU,GAAOA,QAAQ,mBAAmB,GAE/DF,EAAWE,QAAQ,UAAU,GAAMA,QAAQ,sBAAsB,GAGrE,SAASI,IACLT,EAASK,QAAQ,UAAU,GAC3BR,EAAUQ,QAAQ,UAAU,GAC5BH,EAAWG,QAAQ,UAAU,GAAOA,QAAQ,wBAAwB,GACpEJ,EAAWI,QAAQ,UAAU,GAAOA,QAAQ,mBAAmB,GAC/DF,EAAWE,QAAQ,UAAU,GAAOA,QAAQ,sBAAsB,GAjCtED,IAsCAN,GAAGY,OAAO,cAAcC,GAAG,SAAU,SAAUC,GAC3CR,MACDO,GAAG,UAAW,SAAUC,GACvBR,MAGJN,GAAGY,OAAO,aAAaC,GAAG,SAAU,SAAUC,GAC1CN,MAGJR,GAAGY,OAAO,aAAaC,GAAG,SAAU,SAAUC,GAC1CL,MAGJT,GAAGY,OAAO,cAAcC,GAAG,UAAW,SAAUC,GAC5CL,MAGJT,GAAGY,OAAO,aAAaC,GAAG,SAAU,SAAUC,GAC1CJ,MAGJV,GAAGY,OAAO,eAAeC,GAAG,SAAU,SAAUC,GAC5CH,MAIJ,IAAMI,EAAWC,YAEjBD,EACKE,MAAM,CACHC,KAAM,kCACNC,OAAQ,GACRC,OAAO,IAEVC,YAAY,SAAyC,GAA7BC,IAAAA,EAAAA,EAAAA,QAAgBC,GAAPC,EAAAA,MAAOD,EAAAA,WAC/BE,EAAQ,IAAIC,YAAY,SAAU,CAAEC,OAAQ,CAAEJ,UAAWA,KAC/DD,EAAQM,cAAcH,KAEzBI,WAAW,SAAyC,GAA7BP,IAAAA,EAAAA,EAAAA,QAAgBC,GAAPC,EAAAA,MAAOD,EAAAA,WAC9BE,EAAQ,IAAIC,YAAY,UAAW,CAAEC,OAAQ,CAAEJ,UAAWA,KAChED,EAAQM,cAAcH,KAG9BK,OAAOC,iBAAiB,SAAUhB,EAASiB","file":"scrollyscript.a1c783c8.js","sourceRoot":"../src","sourcesContent":["const allMajors  = d3.selectAll(\".g-major-categories\");\nconst topThree   = d3.selectAll(\".g-top-three\");\nconst minorPaint = d3.selectAll(\".g-minor-paint\");\nconst minorUnsan = d3.selectAll(\".g-minor-unsanitary\");\nconst minorPlumb = d3.selectAll(\".g-minor-plumbing\");\n\n// functions\nfunction reset() {\n    allMajors.classed('hidden', false).classed('fade_out', false);\n    topThree.classed('hidden', true)\n    minorPaint.classed('hidden', true).classed('paint-transform', false);\n    minorUnsan.classed('hidden', true).classed('unsanitary-transform', false);\n    minorPlumb.classed('hidden', true).classed('plumbing-transform', false);\n    //these steps are for formatting, set to transparent\n    d3.selectAll(\"#spacer\").classed('transparent', true).classed('spacer_margin', true)\n  }\nreset();\n\nfunction top_three() {\n    topThree.classed('hidden', false)\n    allMajors.classed('fade_out', true)\n    minorPaint.classed('hidden', true)\n    minorUnsan.classed('hidden', true)\n    minorPlumb.classed('hidden', true)\n}\n\nfunction unsanitary() {\n    topThree.classed('hidden', true)\n    allMajors.classed('hidden', true)\n    minorUnsan.classed('hidden', false).classed('unsanitary-transform', true);\n\n    minorPaint.classed('hidden', true).classed('paint-transform', false);\n    minorPlumb.classed('hidden', true).classed('plumbing-transform', false);\n}\n\nfunction paint() {\n    topThree.classed('hidden', true)\n    allMajors.classed('hidden', true)\n    minorUnsan.classed('hidden', false).classed('unsanitary-transform', true);\n    minorPaint.classed('hidden', false).classed('paint-transform', true);\n\n    minorPlumb.classed('hidden', true).classed('plumbing-transform', false);\n}\n\nfunction plumbing() {\n    topThree.classed('hidden', true)\n    allMajors.classed('hidden', true)\n    minorUnsan.classed('hidden', false).classed('unsanitary-transform', true);\n    minorPaint.classed('hidden', false).classed('paint-transform', true);\n    minorPlumb.classed('hidden', false).classed('plumbing-transform', true);\n}\n\n\n/* Scrollytelling code goes under here */\nd3.select(\"#step-zero\").on('stepin', function (e) {\n    reset();\n}).on('stepout', function (e) {\n    reset();\n})\n\nd3.select(\"#step-one\").on('stepin', function (e) {\n    top_three();\n})\n\nd3.select(\"#step-two\").on('stepin', function (e) {\n    unsanitary();\n})\n\nd3.select(\"#step-five\").on('stepout', function (e) {\n    unsanitary();\n})\n\nd3.select(\"#step-six\").on('stepin', function (e) {\n    paint();\n})\n\nd3.select(\"#step-seven\").on('stepin', function (e) {\n    plumbing();\n})\n\n// scrolly stuff \nconst scroller = scrollama();\n\nscroller\n    .setup({\n        step: \"#scrolly .scrolly-overlay .step\",\n        offset: 0.5,\n        debug: false\n    })\n    .onStepEnter(function ({ element, index, direction }) {\n        const event = new CustomEvent('stepin', { detail: { direction: direction } })\n        element.dispatchEvent(event);\n    })\n    .onStepExit(function ({ element, index, direction }) {\n        const event = new CustomEvent('stepout', { detail: { direction: direction } })\n        element.dispatchEvent(event);\n    });\n\nwindow.addEventListener(\"resize\", scroller.resize);"]}